
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Brotherc">
    <title>归档 - Brotherc</title>
    <meta name="author" content="Brotherc">
    
    
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Brotherc">
<meta property="og:url" content="http://yoursite.com/archives/page/2/index.html">
<meta property="og:site_name" content="Brotherc">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Brotherc">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/head.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Brotherc</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
            <img class="header-picture" src="/assets/images/head.jpg" alt="作者的图片">
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/head.jpg" alt="作者的图片">
                </a>
                <h4 class="sidebar-profile-name">Brotherc</h4>
                
                    <h5 class="sidebar-profile-bio"><p>java development</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="首页">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="分类">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="标签">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="/all-archives" title="归档">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="关于">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/Brotherc" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/01/26/访问者模式/">
                            访问者模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-01-26T16:58:53+08:00">
	
		    1月 26, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="assets/设计模式/83.jpg" alt="83"></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2020/01/26/访问者模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/01/26/解释器模式/">
                            解释器模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-01-26T16:47:46+08:00">
	
		    1月 26, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="assets/设计模式/81.jpg" alt="81"><br><img src="assets/设计模式/82.jpg" alt="82"></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2020/01/26/解释器模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2020/01/26/命令模式/">
                            命令模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2020-01-26T16:27:53+08:00">
	
		    1月 26, 2020
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p><img src="assets/设计模式/77.jpg" alt="77"><br><img src="assets/设计模式/78.jpg" alt="78"><br><img src="assets/设计模式/79.jpg" alt="79"><br><img src="assets/设计模式/80.jpg" alt="80"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 真正的命令的执行者</span><br><span class="line"> */</span><br><span class="line">public class Receiver &#123;</span><br><span class="line">	public void action()&#123;</span><br><span class="line">		System.out.println(&quot;Receiver.action()&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public interface Command &#123;</span><br><span class="line">	/**</span><br><span class="line">	 * 这个方法是一个返回结果为空的方法。</span><br><span class="line">	 * 实际项目中，可以根据需求设计多个不同的方法</span><br><span class="line">	 */</span><br><span class="line">	void execute();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class ConcreteCommand implements Command &#123;</span><br><span class="line">	private Receiver receiver;	//命令的真正的执行者</span><br><span class="line"></span><br><span class="line">	public ConcreteCommand(Receiver receiver) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.receiver = receiver;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void execute() &#123;</span><br><span class="line">		//命令真正执行前或后，执行相关的处理！</span><br><span class="line">		receiver.action();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//调用者/发起者</span><br><span class="line">public class Invoke &#123;</span><br><span class="line">	private Command command;   //也可以通过容器List&lt;Command&gt;容纳很多命令对象，进行批处理。数据库底层的事务管理就是类似的结构！</span><br><span class="line"></span><br><span class="line">	public Invoke(Command command) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.command = command;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//业务方法 ，用于调用命令类的方法</span><br><span class="line">	public void call()&#123;</span><br><span class="line">		command.execute();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Command c = new ConcreteCommand(new Receiver());</span><br><span class="line">		Invoke i = new Invoke(c);</span><br><span class="line">		i.call();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2020/01/26/命令模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/12/28/googel_map集成/">
                            Google Map集成
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-12-28T23:01:54+08:00">
	
		    12月 28, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="Get-an-API-Key"><a href="#Get-an-API-Key" class="headerlink" title="Get an API Key"></a>Get an API Key</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">参考：</span><br><span class="line">https://developers.google.cn/maps/documentation/javascript/get-api-key</span><br></pre></td></tr></table></figure>
<h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p>googleMap.html:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Simple Map&lt;/title&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">      #map &#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">      &#125;</span><br><span class="line">      html, body &#123;</span><br><span class="line">        height: 100%;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;map&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">      var map;</span><br><span class="line">      function initMap() &#123;</span><br><span class="line">        map = new google.maps.Map(document.getElementById(&apos;map&apos;), &#123;</span><br><span class="line">          center: &#123;lat: -34.397, lng: 150.644&#125;,</span><br><span class="line">          zoom: 8</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    &lt;!-- 将YOUR_API_KEY替换成可用的API Key --&gt;</span><br><span class="line">    &lt;script src=&quot;https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&amp;callback=initMap&quot;</span><br><span class="line">    async defer&gt;&lt;/script&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="Vue集成Google-Map"><a href="#Vue集成Google-Map" class="headerlink" title="Vue集成Google Map"></a>Vue集成Google Map</h3><h4 id="Get-an-API-Key-1"><a href="#Get-an-API-Key-1" class="headerlink" title="Get an API Key"></a>Get an API Key</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">参考上述操作</span><br></pre></td></tr></table></figure>
<h4 id="Typescript版本集成"><a href="#Typescript版本集成" class="headerlink" title="Typescript版本集成"></a>Typescript版本集成</h4><h5 id="1-安装依赖"><a href="#1-安装依赖" class="headerlink" title="1.安装依赖"></a>1.安装依赖</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vue2-google-maps</span><br></pre></td></tr></table></figure>
<h5 id="2-googleMap-ts代码"><a href="#2-googleMap-ts代码" class="headerlink" title="2.googleMap.ts代码"></a>2.googleMap.ts代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import * as VueGoogleMaps from &apos;vue2-google-maps&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(VueGoogleMaps, &#123;</span><br><span class="line">  load: &#123;</span><br><span class="line">    key: &apos;YOUR_API_TOKEN&apos;,// 替换成可用的API Key</span><br><span class="line">    libraries: &apos;places&apos;,</span><br><span class="line">  &#125;,</span><br><span class="line">  installComponents: true</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Could not find a declaration file for module &apos;vue2-google-maps&apos;.</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>解决：<br>创建vue2-google-maps.d.ts,并添加以下内容<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">declare module &apos;vue2-google-maps&apos; &#123;</span><br><span class="line"></span><br><span class="line">  //如果Vue.use报错则加入以下两行</span><br><span class="line">  import &#123; PluginFunction &#125; from &quot;vue&quot;;</span><br><span class="line">  export const install: PluginFunction&lt;&#123;&#125;&gt;;</span><br><span class="line"></span><br><span class="line">  // 将下列url返回的内容添加在这里</span><br><span class="line">  // https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/googlemaps/index.d.ts</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>参考：<a href="https://github.com/xkjyeah/vue-google-maps/issues/560" target="_blank" rel="noopener">https://github.com/xkjyeah/vue-google-maps/issues/560</a></p>
<h5 id="3-googleMap-html"><a href="#3-googleMap-html" class="headerlink" title="3.googleMap.html"></a>3.googleMap.html</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;GmapMap</span><br><span class="line">  :center=&quot;&#123;lat:10, lng:10&#125;&quot;</span><br><span class="line">  :zoom=&quot;7&quot;</span><br><span class="line">  map-type-id=&quot;terrain&quot;</span><br><span class="line">  style=&quot;width: 500px; height: 300px&quot;</span><br><span class="line">&gt;</span><br><span class="line">&lt;/GmapMap&gt;</span><br></pre></td></tr></table></figure>
<p>错误：如果是单页面应用则不会出现以下错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">error .../node_modules/vue2-google-maps/dist/components/infoWindow.vue:3</span><br><span class="line">^</span><br><span class="line"></span><br><span class="line">SyntaxError: Unexpected token &lt;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>解决：需要将ssr相关配置关闭，不同框架修改不同，本人是使用Quasar框架需修改以下配置<br>package.json<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;serve&quot;: &quot;quasar dev -m ssr&quot; // 将ssr修改为spa</span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>quasar.conf.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module.exports = function () &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    ...</span><br><span class="line">    preFetch: true // 修改为false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Typescript版本集成-服务端渲染"><a href="#Typescript版本集成-服务端渲染" class="headerlink" title="Typescript版本集成(服务端渲染)"></a>Typescript版本集成(服务端渲染)</h4><h5 id="1-googleMap-ts代码"><a href="#1-googleMap-ts代码" class="headerlink" title="1.googleMap.ts代码"></a>1.googleMap.ts代码</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">mounted() &#123;</span><br><span class="line">  this.loadAMapJS().then(result =&gt; &#123;</span><br><span class="line">    if (result) &#123;</span><br><span class="line">      //刷新地图初始化</span><br><span class="line">      this.initialize();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">loadAMapJS() &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    // 替换成可用的API Key</span><br><span class="line">    this.asyncLoadJs(&apos;https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&apos;)</span><br><span class="line">      .then((result) =&gt; &#123;</span><br><span class="line">        resolve(result)</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(err =&gt; &#123;</span><br><span class="line">        reject(err)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">asyncLoadJs(url: any) &#123;</span><br><span class="line">  return new Promise((resolve, reject) =&gt; &#123;</span><br><span class="line">    const hasLoaded = document.getElementById(&quot;googleMapScript&quot;);</span><br><span class="line">    if (hasLoaded) &#123;</span><br><span class="line">      resolve(true)</span><br><span class="line">      return</span><br><span class="line">    &#125;</span><br><span class="line">    const script = document.createElement(&apos;script&apos;)</span><br><span class="line">    script.type = &apos;text/javascript&apos;</span><br><span class="line">    script.id = &quot;googleMapScript&quot;</span><br><span class="line">    script.src = url</span><br><span class="line">    document.body.appendChild(script)</span><br><span class="line">    script.onload = () =&gt; &#123;</span><br><span class="line">      resolve(true)</span><br><span class="line">    &#125;</span><br><span class="line">    script.onerror = () =&gt; &#123;</span><br><span class="line">      reject(false)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化地圖</span><br><span class="line">initialize() &#123;</span><br><span class="line">  this.centerDot = new google.maps.LatLng(22.2041179884, 113.557519102);</span><br><span class="line">  const options = &#123;</span><br><span class="line">    zoom: 12,</span><br><span class="line">    center: this.centerDot, // 設定地圖中心點</span><br><span class="line">    mapTypeId: google.maps.MapTypeId.ROADMAP // HYBRID,ROADMAP,SATELLITE,TERRAIN</span><br><span class="line">  &#125;;</span><br><span class="line">  this.map = new google.maps.Map(document.getElementById(&quot;map&quot;), options);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>错误：有可能会出现<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cannot find name &apos;google&apos;</span><br></pre></td></tr></table></figure></p>
<p>解决：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare let google: any;</span><br></pre></td></tr></table></figure></p>
<h5 id="2-googleMap-html"><a href="#2-googleMap-html" class="headerlink" title="2.googleMap.html"></a>2.googleMap.html</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;map&quot; style=&quot;height: 600px; width: 1000px;&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<h4 id="界面问题"><a href="#界面问题" class="headerlink" title="界面问题"></a>界面问题</h4><h5 id="1-出现此页面无法正确加载Google地图。的弹窗"><a href="#1-出现此页面无法正确加载Google地图。的弹窗" class="headerlink" title="1.出现此页面无法正确加载Google地图。的弹窗"></a>1.出现此页面无法正确加载Google地图。的弹窗</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">限制密钥</span><br><span class="line">在Google云平台的[应用限制]里我们对密钥使用进行限制，只允许特定的地址使用密钥，这样可以防止我们的配额泄露或被窃取。</span><br></pre></td></tr></table></figure>
<h5 id="2-出现For-development-purposes-only的覆盖层"><a href="#2-出现For-development-purposes-only的覆盖层" class="headerlink" title="2.出现For development purposes only的覆盖层"></a>2.出现For development purposes only的覆盖层</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">正常使用API Key需要开通结算账户</span><br><span class="line">在Google云平台的[导航菜单]-[结算]中关联结算账户，注意需要信用卡验证身份，支持VISA、运通、JCB、MasterCard，暂不支持银联。</span><br><span class="line">验证身份时会先扣除一美元，验证成功后会返还。</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/12/28/googel_map集成/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/12/28/树形结构业务模型/">
                            树形结构业务模型实践
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-12-28T23:01:53+08:00">
	
		    12月 28, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="数据库表结构"><a href="#数据库表结构" class="headerlink" title="数据库表结构"></a>数据库表结构</h3><p>TREE表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ID    P_CODE      CODE          NAME</span><br><span class="line">1      null       001           1级1</span><br><span class="line">2      null       002           1级2</span><br><span class="line">3      null       003           1级3</span><br><span class="line">4      001        001001        2级1</span><br><span class="line">5      002        002001        2级2</span><br><span class="line">6      002        002002        2级3</span><br><span class="line">7      003        003001        2级4</span><br><span class="line">8      003001     003001001     3级1</span><br><span class="line">9      003001001  003001001001  4级1</span><br></pre></td></tr></table></figure></p>
<h3 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h3><p>treeMapper.xml：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;mapper ...&gt;</span><br><span class="line">  &lt;select id=&quot;list&quot; ...&gt;</span><br><span class="line">    SELECT * FROM TREE</span><br><span class="line">  &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h3><p>Node:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Node &#123;</span><br><span class="line">  private Long id;</span><br><span class="line"></span><br><span class="line">  private String pCode;</span><br><span class="line"></span><br><span class="line">  private String code;</span><br><span class="line"></span><br><span class="line">  private String name;</span><br><span class="line"></span><br><span class="line">  private List&lt;Node&gt; children;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>TreeMapper：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface TreeMapper &#123;</span><br><span class="line">  List&lt;Node&gt; list();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>TreeService:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class TreeService &#123;</span><br><span class="line"></span><br><span class="line">  @Autowired</span><br><span class="line">  private TreeMapper treeMapper;</span><br><span class="line"></span><br><span class="line">  public List&lt;Node&gt; getTree() &#123;</span><br><span class="line">    List&lt;Node&gt; list = treeMapper.list();</span><br><span class="line">    return getFatherNode(list);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private List&lt;Node&gt; getFatherNode(List&lt;Node&gt; treesList) &#123;</span><br><span class="line">    List&lt;Node&gt; newTrees = new ArrayList&lt;&gt;();</span><br><span class="line">    for (Node node : treesList) &#123;</span><br><span class="line">      if (StringUtils.isEmpty(node.getPCode())) &#123;//如果pCode为空，则该节点为父节点</span><br><span class="line">        //递归获取父节点下的子节点</span><br><span class="line">        node.setChildren(getChildrenNode(node.getCode(), treesList));</span><br><span class="line">        newTrees.add(node);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return newTrees;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private List&lt;Node&gt; getChildrenNode(String pCode, List&lt;Node&gt; treesList) &#123;</span><br><span class="line">    List&lt;Node&gt; newTrees = new ArrayList&lt;&gt;();</span><br><span class="line">    for (Node node : treesList) &#123;</span><br><span class="line">      if (StringUtils.isEmpty(node.getPCode())) continue;</span><br><span class="line">      if (node.getPCode().equals(pCode)) &#123;</span><br><span class="line">        //递归获取子节点下的子节点，即设置树控件中的children</span><br><span class="line">        node.setChildren(getChildrenNode(node.getCode(), treesList));</span><br><span class="line">        newTrees.add(node);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return newTrees;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>参考：<a href="https://www.cnblogs.com/WHqingwei/p/5852657.html" target="_blank" rel="noopener">https://www.cnblogs.com/WHqingwei/p/5852657.html</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/12/28/树形结构业务模型/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/09/16/中介者模式/">
                            中介者模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-16T16:53:32+08:00">
	
		    9月 16, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/72.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/72.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/73.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/73.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/74.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/74.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/75.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/75.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/76.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/76.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//同事类的接口</span><br><span class="line">public interface Department &#123;</span><br><span class="line">	void selfAction(); //做本部门的事情</span><br><span class="line">	void outAction();  //向总经理发出申请</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public interface Mediator &#123;</span><br><span class="line">	void register(String dname,Department d);</span><br><span class="line">	void command(String dname);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">public class Development implements Department &#123;</span><br><span class="line"></span><br><span class="line">	private Mediator m;  //持有中介者(总经理)的引用</span><br><span class="line"></span><br><span class="line">	public Development(Mediator m) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.m = m;</span><br><span class="line">		m.register(&quot;development&quot;, this);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void outAction() &#123;</span><br><span class="line">		System.out.println(&quot;汇报工作！没钱了，需要资金支持！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void selfAction() &#123;</span><br><span class="line">		System.out.println(&quot;专心科研，开发项目！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public class Finacial implements Department &#123;</span><br><span class="line">	private Mediator m;  //持有中介者(总经理)的引用</span><br><span class="line"></span><br><span class="line">	public Finacial(Mediator m) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.m = m;</span><br><span class="line">		m.register(&quot;finacial&quot;, this);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void outAction() &#123;</span><br><span class="line">		System.out.println(&quot;汇报工作！没钱了，钱太多了！怎么花?&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void selfAction() &#123;</span><br><span class="line">		System.out.println(&quot;数钱！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">public class Market implements Department &#123;</span><br><span class="line">	private Mediator m;  //持有中介者(总经理)的引用</span><br><span class="line"></span><br><span class="line">	public Market(Mediator m) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.m = m;</span><br><span class="line">		m.register(&quot;market&quot;, this);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void outAction() &#123;</span><br><span class="line">		System.out.println(&quot;汇报工作！项目承接的进度，需要资金支持！&quot;);</span><br><span class="line"></span><br><span class="line">		m.command(&quot;finacial&quot;);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void selfAction() &#123;</span><br><span class="line">		System.out.println(&quot;跑去接项目！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class President implements Mediator &#123;</span><br><span class="line">	private Map&lt;String,Department&gt; map = new HashMap&lt;String , Department&gt;();</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void command(String dname) &#123;</span><br><span class="line">		map.get(dname).selfAction();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void register(String dname, Department d) &#123;</span><br><span class="line">		map.put(dname, d);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Mediator m = new President();</span><br><span class="line"></span><br><span class="line">		Market   market = new Market(m);</span><br><span class="line">		Development devp = new Development(m);</span><br><span class="line">		Finacial f = new Finacial(m);</span><br><span class="line"></span><br><span class="line">		market.selfAction();</span><br><span class="line">		market.outAction();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/09/16/中介者模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/09/11/迭代器模式/">
                            迭代器模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-11T20:10:37+08:00">
	
		    9月 11, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/69.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/69.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/70.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/70.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/71.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/71.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *  自定义的迭代器接口</span><br><span class="line"> */</span><br><span class="line">public interface MyIterator &#123;</span><br><span class="line">	void first();	//将游标指向第一个元素</span><br><span class="line">	void next();	//将游标指向下一个元素</span><br><span class="line">	boolean hasNext();//判断是否存在下一个元素</span><br><span class="line"></span><br><span class="line">	boolean isFirst();</span><br><span class="line">	boolean isLast();</span><br><span class="line"></span><br><span class="line">	Object getCurrentObj();  //获取当前游标指向的对象</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 自定义的聚合类</span><br><span class="line"> */</span><br><span class="line">public class ConcreteMyAggregate &#123;</span><br><span class="line">	private List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();</span><br><span class="line"></span><br><span class="line">	public void addObject(Object obj)&#123;</span><br><span class="line">		this.list.add(obj);</span><br><span class="line">	&#125;</span><br><span class="line">	public void removeObject(Object obj)&#123;</span><br><span class="line">		this.list.remove(obj);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public List&lt;Object&gt; getList() &#123;</span><br><span class="line">		return list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void setList(List&lt;Object&gt; list) &#123;</span><br><span class="line">		this.list = list;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	//获得迭代器</span><br><span class="line">	public MyIterator  createIterator()&#123;</span><br><span class="line">		return new ConcreteIterator();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	//使用内部类定义迭代器，可以直接使用外部类的属性</span><br><span class="line">	private class ConcreteIterator implements MyIterator &#123;</span><br><span class="line"></span><br><span class="line">		private int cursor;  //定义游标用于记录遍历时的位置</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public void first() &#123;</span><br><span class="line">			cursor = 0;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public Object getCurrentObj() &#123;</span><br><span class="line">			return list.get(cursor);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public boolean hasNext() &#123;</span><br><span class="line">			if(cursor&lt;list.size())&#123;</span><br><span class="line">				return true;</span><br><span class="line">			&#125;</span><br><span class="line">			return false;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public boolean isFirst() &#123;</span><br><span class="line">			return cursor==0?true:false;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public boolean isLast() &#123;</span><br><span class="line">			return cursor==(list.size()-1)?true:false;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		@Override</span><br><span class="line">		public void next() &#123;</span><br><span class="line">			if(cursor&lt;list.size())&#123;</span><br><span class="line">				cursor++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		ConcreteMyAggregate cma = new ConcreteMyAggregate();</span><br><span class="line">		cma.addObject(&quot;aa&quot;);</span><br><span class="line">		cma.addObject(&quot;bb&quot;);</span><br><span class="line">		cma.addObject(&quot;cc&quot;);</span><br><span class="line"></span><br><span class="line">		MyIterator iter = cma.createIterator();</span><br><span class="line">		while(iter.hasNext())&#123;</span><br><span class="line">			System.out.println(iter.getCurrentObj());</span><br><span class="line">			iter.next();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/09/11/迭代器模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/09/11/责任链模式/">
                            责任链模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-11T18:25:31+08:00">
	
		    9月 11, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/62.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/62.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/63.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/63.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/64.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/64.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/65.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/65.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/66.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/66.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/67.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/67.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/68.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/68.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 封装请假的基本信息</span><br><span class="line"> */</span><br><span class="line">public class LeaveRequest &#123;</span><br><span class="line">	private String empName;</span><br><span class="line">	private int leaveDays;</span><br><span class="line">	private String reason;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	public LeaveRequest(String empName, int leaveDays, String reason) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.empName = empName;</span><br><span class="line">		this.leaveDays = leaveDays;</span><br><span class="line">		this.reason = reason;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getEmpName() &#123;</span><br><span class="line">		return empName;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setEmpName(String empName) &#123;</span><br><span class="line">		this.empName = empName;</span><br><span class="line">	&#125;</span><br><span class="line">	public int getLeaveDays() &#123;</span><br><span class="line">		return leaveDays;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setLeaveDays(int leaveDays) &#123;</span><br><span class="line">		this.leaveDays = leaveDays;</span><br><span class="line">	&#125;</span><br><span class="line">	public String getReason() &#123;</span><br><span class="line">		return reason;</span><br><span class="line">	&#125;</span><br><span class="line">	public void setReason(String reason) &#123;</span><br><span class="line">		this.reason = reason;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 抽象类</span><br><span class="line"> */</span><br><span class="line">public abstract class Leader &#123;</span><br><span class="line">	protected String name;</span><br><span class="line">	protected Leader nextLeader; //责任链上的后继对象</span><br><span class="line"></span><br><span class="line">	public Leader(String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//设定责任链上的后继对象</span><br><span class="line">	public void setNextLeader(Leader nextLeader) &#123;</span><br><span class="line">		this.nextLeader = nextLeader;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	/**</span><br><span class="line">	 * 处理请求的核心的业务方法</span><br><span class="line">	 * @param request</span><br><span class="line">	 */</span><br><span class="line">	public abstract void handleRequest(LeaveRequest request);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 总经理</span><br><span class="line"> */</span><br><span class="line">public class GeneralManager extends Leader &#123;</span><br><span class="line"></span><br><span class="line">	public GeneralManager(String name) &#123;</span><br><span class="line">		super(name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void handleRequest(LeaveRequest request) &#123;</span><br><span class="line">		if(request.getLeaveDays()&lt;30)&#123;</span><br><span class="line">			System.out.println(&quot;员工：&quot;+request.getEmpName()+&quot;请假，天数：&quot;+request.getLeaveDays()+&quot;,理由：&quot;+request.getReason());</span><br><span class="line">			System.out.println(&quot;总经理：&quot;+this.name+&quot;,审批通过！&quot;);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			System.out.println(&quot;莫非&quot;+request.getEmpName()+&quot;想辞职，居然请假&quot;+request.getLeaveDays()+&quot;天！&quot;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 经理</span><br><span class="line"> */</span><br><span class="line">public class Manager extends Leader &#123;</span><br><span class="line"></span><br><span class="line">	public Manager(String name) &#123;</span><br><span class="line">		super(name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void handleRequest(LeaveRequest request) &#123;</span><br><span class="line">		if(request.getLeaveDays()&lt;10)&#123;</span><br><span class="line">			System.out.println(&quot;员工：&quot;+request.getEmpName()+&quot;请假，天数：&quot;+request.getLeaveDays()+&quot;,理由：&quot;+request.getReason());</span><br><span class="line">			System.out.println(&quot;经理：&quot;+this.name+&quot;,审批通过！&quot;);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			if(this.nextLeader!=null)&#123;</span><br><span class="line">				this.nextLeader.handleRequest(request);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> * 副总经理</span><br><span class="line"> */</span><br><span class="line">public class ViceGeneralManager extends Leader &#123;</span><br><span class="line"></span><br><span class="line">	public ViceGeneralManager(String name) &#123;</span><br><span class="line">		super(name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void handleRequest(LeaveRequest request) &#123;</span><br><span class="line">		if(request.getLeaveDays()&lt;20)&#123;</span><br><span class="line">			System.out.println(&quot;员工：&quot;+request.getEmpName()+&quot;请假，天数：&quot;+request.getLeaveDays()+&quot;,理由：&quot;+request.getReason());</span><br><span class="line">			System.out.println(&quot;副总经理：&quot;+this.name+&quot;,审批通过！&quot;);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			if(this.nextLeader!=null)&#123;</span><br><span class="line">				this.nextLeader.handleRequest(request);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 主任</span><br><span class="line"> */</span><br><span class="line">public class Director extends Leader &#123;</span><br><span class="line"></span><br><span class="line">	public Director(String name) &#123;</span><br><span class="line">		super(name);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void handleRequest(LeaveRequest request) &#123;</span><br><span class="line">		if(request.getLeaveDays()&lt;3)&#123;</span><br><span class="line">			System.out.println(&quot;员工：&quot;+request.getEmpName()+&quot;请假，天数：&quot;+request.getLeaveDays()+&quot;,理由：&quot;+request.getReason());</span><br><span class="line">			System.out.println(&quot;主任：&quot;+this.name+&quot;,审批通过！&quot;);</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			if(this.nextLeader!=null)&#123;</span><br><span class="line">				this.nextLeader.handleRequest(request);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Leader a = new Director(&quot;张三&quot;);</span><br><span class="line">		Leader b = new Manager(&quot;李四&quot;);</span><br><span class="line">		Leader b2 = new ViceGeneralManager(&quot;李小四&quot;);</span><br><span class="line">		Leader c = new GeneralManager(&quot;王五&quot;);</span><br><span class="line">		//组织责任链对象的关系</span><br><span class="line">		a.setNextLeader(b);</span><br><span class="line">		b.setNextLeader(b2);</span><br><span class="line">		b2.setNextLeader(c);</span><br><span class="line"></span><br><span class="line">		//开始请假操作</span><br><span class="line">		LeaveRequest req1 = new LeaveRequest(&quot;TOM&quot;, 15, &quot;回英国老家探亲！&quot;);</span><br><span class="line">		a.handleRequest(req1);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/09/11/责任链模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/09/10/面向对象/">
                            面向对象
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-10T15:34:04+08:00">
	
		    9月 10, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="匿名对象"><a href="#匿名对象" class="headerlink" title="匿名对象"></a>匿名对象</h3><p>·匿名对象：就是没有名字的对象。<br>  是对象的一种简化表示形式<br>·匿名对象的两种使用情况<br>  对象调用方法仅仅一次的时候<br>  作为实际参数传递</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class Student &#123;</span><br><span class="line">	public void show() &#123;</span><br><span class="line">		System.out.println(“show”);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class StudentDemo &#123;</span><br><span class="line">	//如果参数是一个类名，那么实际需要的是一个具体的对象</span><br><span class="line">	public void method(Student s) &#123;</span><br><span class="line">		s.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class StudentTest &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		StudentDemo sd = new StudentDemo();</span><br><span class="line">		Student s = new Student();</span><br><span class="line">		sd.method(s);</span><br><span class="line"></span><br><span class="line">		//多个匿名对象的写法</span><br><span class="line">		new StudentDemo.method(new Student());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="this关键字"><a href="#this关键字" class="headerlink" title="this关键字"></a>this关键字</h3><p>·this:代表所在类的对象引用<br>·记住：<br>·方法被哪个对象调用，this就代表那个对象<br>  什么时候使用this呢?<br>  局部变量隐藏成员变量<br>  其他用法后面和super一起讲解</p>
<h3 id="static关键字"><a href="#static关键字" class="headerlink" title="static关键字"></a>static关键字</h3><p>·可以修饰成员变量和成员方法<br>·static关键字特点<br>  随着类的加载而加载<br>  优先于对象存在<br>  被类的所有对象共享<br>  这也是我们判断是否使用静态关键字的条件<br>  可以通过类名调用<br>·static关键字注意事项<br>  在静态方法中是没有this关键字的<br>  静态方法只能访问静态的成员变量和静态的成员方法</p>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><p>在Java中，使用{}括起来的代码被称为代码块，根据其位置和声明的不同，可以分为局部代码块，构造代码块，静态代码块，同步代码块(多线程讲解)。<br>·局部代码块<br>  在方法中出现；限定变量生命周期，及早释放，提高内存利用率<br>·构造代码块<br>  在类中方法外出现；多个构造方法方法中相同的代码存放到一起，每次调用  构造都执行，并且在构造方法前执行<br>·静态代码块 在类中方法外出现，加了static修饰<br>  在类中方法外出现，并加上static修饰；用于给类进行初始化，在加载的时  候就执行，并且值执行一次。</p>
<p>执行顺序<br>静态代码块&gt;构造代码块&gt;构造方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">static &#123;</span><br><span class="line">	System.out.println(“静态代码块”);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	System.out.println(“构造代码块”);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Student() &#123;</span><br><span class="line">	System.out.println(“构造方法”);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="面试题："><a href="#面试题：" class="headerlink" title="面试题："></a>面试题：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class Student&#123;</span><br><span class="line">	static&#123;</span><br><span class="line">	   System.out.print(&quot;Student 静态代码块&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	&#123;</span><br><span class="line">	   System.out.print(&quot;Student 构造代码块&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public student()&#123;</span><br><span class="line">	   System.out.print(&quot;Student 构造方法&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class StudentDemo &#123;</span><br><span class="line">	static&#123;</span><br><span class="line">	   System.out.print(&quot;林青霞都60了，我很伤心&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">	   System.out.print(&quot;我是main方法&quot;);</span><br><span class="line"></span><br><span class="line">	   student s1 = new Student();</span><br><span class="line">	   student s2 = new Student();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">林青霞都60了，我很伤心</span><br><span class="line">我是main方法</span><br><span class="line">Student 静态代码块</span><br><span class="line">Student 构造代码块</span><br><span class="line">Student 构造方法</span><br><span class="line">Student 构造代码块</span><br><span class="line">Student 构造方法</span><br></pre></td></tr></table></figure></p>
<h3 id="继承中成员变量的关系"><a href="#继承中成员变量的关系" class="headerlink" title="继承中成员变量的关系"></a>继承中成员变量的关系</h3><p>·在子类方法中访问一个变量<br>  首先在子类局部范围找<br>  然后在子类成员范围找<br>  最后在父类成员范围找(肯定不能访问到父类局部范围)<br>  如果还是没有就报错。(不考虑父亲的父亲…)<br>  如果我要访问父类的成员变量该怎么办呢?通过回想this来引入super关键字</p>
<h3 id="继承中成员方法的关系"><a href="#继承中成员方法的关系" class="headerlink" title="继承中成员方法的关系"></a>继承中成员方法的关系</h3><p>·通过子类对象去访问一个方法<br>  首先在子类中找<br>  然后在父类中找<br>  如果还是没有就报错。(不考虑父亲的父亲…)<br>  如果我要访问父类的成员方法该怎么办呢?回想刚才提过的super关键字<br>·方法重写的注意事项<br>  父类中私有方法不能被重写<br>  子类重写父类方法时，访问权限不能更低<br>  父类静态方法，子类也必须通过静态方法进行重写。</p>
<h3 id="继承中构造方法的关系"><a href="#继承中构造方法的关系" class="headerlink" title="继承中构造方法的关系"></a>继承中构造方法的关系</h3><p>·每一个构造方法的第一条语句默认都是：super()<br>·如何父类中没有构造方法，该怎么办呢?<br>  子类通过super去显示调用父类其他的带参的构造方法<br>  子类通过this去调用本类的其他构造方法，本类其他构造也必须首先访问了父类构造<br>·一定要注意：<br>  super(…)或者this(….)必须出现在第一条语句山</p>
<h4 id="面试题"><a href="#面试题" class="headerlink" title="面试题:"></a>面试题:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">class Fu &#123;</span><br><span class="line">	static &#123;</span><br><span class="line">		System.out.println(&quot;静态代码块Fu&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;构造代码块Fu&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Fu() &#123;</span><br><span class="line">		System.out.println(&quot;构造方法Fu&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Zi extends Fu &#123;</span><br><span class="line">	static &#123;</span><br><span class="line">		System.out.println(&quot;静态代码块Zi&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(&quot;构造代码块Zi&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Zi() &#123;</span><br><span class="line">		System.out.println(&quot;构造方法Zi&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Zi z = new Zi();</span><br></pre></td></tr></table></figure>
<p>A:静态随着类的加载而加载。<br>B:静态代码块 – 构造代码块 – 构造方法的执行流程<br>  静态代码块 – 构造代码块 – 构造方法<br>C:只要有子父关系，肯定先初始化父亲的数据，然后初始化子类的数据。</p>
<p>结果：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">静态代码块Fu</span><br><span class="line">静态代码块Zi</span><br><span class="line">构造代码块Fu</span><br><span class="line">构造方法Fu</span><br><span class="line">构造代码块Zi</span><br><span class="line">构造方法Zi</span><br></pre></td></tr></table></figure></p>
<h4 id="面试题-1"><a href="#面试题-1" class="headerlink" title="面试题:"></a>面试题:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class X &#123;</span><br><span class="line">	Y b = new Y();</span><br><span class="line">	X() &#123;</span><br><span class="line">		System.out.print(&quot;X&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class Y &#123;</span><br><span class="line">	Y() &#123;</span><br><span class="line">		System.out.print(&quot;Y&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">public class Z extends X &#123;</span><br><span class="line">	Y y = new Y();</span><br><span class="line">	Z() &#123;</span><br><span class="line">		System.out.print(&quot;Z&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		new Z();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果：YXYZ</p>
<p>第一个：成员变量有基本类型和引用类型的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">class Demo &#123;</span><br><span class="line">	int x = 10;//基本类型</span><br><span class="line">	Student s = new Student();//引用类型</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>第二个：类的初始化过程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">加载class文件</span><br><span class="line">堆中开辟空间</span><br><span class="line">变量的默认初始化</span><br><span class="line">变量的显示初始化</span><br><span class="line">构造代码块初始化</span><br><span class="line">构造方法初始化</span><br></pre></td></tr></table></figure></p>
<p>第三个：遇到extends，就要知道，先初始化父类数据，然后初始化子类数据。分层初始化。</p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>·成员访问特点<br>  成员变量：编译看左边，运行看左边<br>·成员方法：编译看左边，运行看右边<br>·静态方法：编译看左边，运行看左边（所以前面我说静态方法不能算方法的重写）</p>
<h4 id="面试题：-1"><a href="#面试题：-1" class="headerlink" title="面试题："></a>面试题：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class A&#123;</span><br><span class="line">	public void show()&#123;</span><br><span class="line">		show2();</span><br><span class="line">	&#125;</span><br><span class="line">	public void show2()&#123;</span><br><span class="line">		System.out.println(&quot;我&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class B extends A &#123;</span><br><span class="line">	public void show2()&#123;</span><br><span class="line">		System.out.println(“爱”);</span><br><span class="line">	 &#125;</span><br><span class="line">&#125;</span><br><span class="line">class C extends B &#123;</span><br><span class="line">	public void show()&#123;</span><br><span class="line">		super.show();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void show2()&#123;</span><br><span class="line">		System.out.println(&quot;你&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">public class Test</span><br><span class="line">&#123;</span><br><span class="line">	public static void main(String[] args)</span><br><span class="line">	&#123;</span><br><span class="line">		A a = new B();</span><br><span class="line">		a.show();</span><br><span class="line"> </span><br><span class="line">		B b = new C();</span><br><span class="line">		b.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果：爱<br>      你</p>
<h4 id="多态中的转型问题"><a href="#多态中的转型问题" class="headerlink" title="多态中的转型问题"></a>多态中的转型问题</h4><p>·向上转型<br>·向下转型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">class Animal&#123;</span><br><span class="line">	public void eat()&#123;..&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal&#123;</span><br><span class="line">	public void eat()&#123;..&#125;</span><br><span class="line">	public void lookdoor()&#123;..&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Cat extends Animal&#123;</span><br><span class="line">	public void eat()&#123;..&#125;</span><br><span class="line">	public void playgame()&#123;..&#125;</span><br><span class="line">&#125;</span><br><span class="line">class AnimalDemo&#123;</span><br><span class="line">	public static void main(String[] args)&#123;</span><br><span class="line">		Animal a=new Dog();</span><br><span class="line">		a.eat();</span><br><span class="line">		a.lookdoor();//报错</span><br><span class="line"></span><br><span class="line"> 		Dog d=(Dog)a;</span><br><span class="line">		d.eat();</span><br><span class="line">		d.lookdoor();</span><br><span class="line"></span><br><span class="line">		a=new Cat();</span><br><span class="line">		a.eat();</span><br><span class="line">		a.playgame();//报错</span><br><span class="line"></span><br><span class="line">		Cat c=(Cat)a;</span><br><span class="line">		c.eat();</span><br><span class="line">		c.playgame();</span><br><span class="line"></span><br><span class="line">		Dog dd=(Dog)a;//报错</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="抽象类的几个小问题"><a href="#抽象类的几个小问题" class="headerlink" title="抽象类的几个小问题"></a>抽象类的几个小问题</h4><p>·abstract不能和哪些关键字共存<br>  private    冲突<br>  final         冲突<br>  static    无意义</p>
<h4 id="抽象类和接口的区别"><a href="#抽象类和接口的区别" class="headerlink" title="抽象类和接口的区别"></a>抽象类和接口的区别</h4><p>·成员区别<br>  抽象类      变量,常量;有构造方法;抽象方法,非抽象方法<br>  接口        常量(默认public static final);抽象方法(默认public abstract)<br>·关系区别<br>  类与类      继承，单继承<br>  类与接口    实现，单实现，多实现<br>  接口与接口  继承，单继承，多继承<br>·设计理念区别<br>  抽象类      被继承体现的是：”is a”的关系。共性功能<br>  接口        被实现体现的是：”like a”的关系。扩展功能</p>
<h3 id="内部类位置"><a href="#内部类位置" class="headerlink" title="内部类位置"></a>内部类位置</h3><p>·成员位置(成员内部类)<br>·成员内部的常见修饰符<br>  private：为了保证数据的安全性<br>  static ：为了让数据访问更方便</p>
<p>成员内部类不是静态的：外部类名.内部类名 对象名 = new 外部类名.new 内部类名();<br>成员内部类是静态的：外部类名.内部类名 对象名 = new 外部类名.内部类名();</p>
<p>非静态的成员内部类，成员只能是非静态的<br>被静态修饰的成员内部类只能访问外部类的静态成员<br>被静态修饰的成员内部类中的方法有静态和非静态之分<br>访问非静态方法：外部类名.内部类名 对象名 = new 外部类名.内部类名();<br>访问静态方法：  上面创建的对象访问，或者外部类名.内部类名.方法名();</p>
<p>面试题：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Outer &#123;</span><br><span class="line">	public int num = 10;</span><br><span class="line"></span><br><span class="line">	class Inner &#123;</span><br><span class="line">		public int num = 20;</span><br><span class="line"></span><br><span class="line">		public void show() &#123;</span><br><span class="line">			int num = 30;</span><br><span class="line">			System.out.println(num);</span><br><span class="line">			System.out.println(this.num);</span><br><span class="line">			System.out.println(Outer.this.num);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class OuterDemo &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Outer.Inner oi = new Outer().new Inner();</span><br><span class="line">		oi.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>·局部位置(局部内部类)<br>·可以创建内部类对象，通过对象调用内部类方法，来使用局部内部类功能<br>·局部内部类访问局部变量的注意事项：<br>  必须被final修饰?<br>  为什么呢?<br>(因为局部变量会随着方法的调用完毕而消失，这个时候，局部对象并没有立马从堆内存中消失，还要使用那个变量。为了让数据还能继续被使用，就用fianl修饰，这样，在堆内存里面存储的其实是一个常量值。通过反编译工具可以看一下。)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Outer &#123;</span><br><span class="line">	public void method() &#123;</span><br><span class="line">		final int n = 100;</span><br><span class="line">		class Inner &#123;</span><br><span class="line">			public void show() &#123;</span><br><span class="line">				System.out.println(n);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		Inner i = new Inner();</span><br><span class="line">		i.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class OuterDemo &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		Outer o = new Outer();</span><br><span class="line">		o.method();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h3><p>·就是内部类的简化写法。<br>·前提：存在一个类或者接口<br>  这里的类可以是具体类也可以是抽象类。<br>·格式：<br>  new 类名或者接口名() {重写方法;}<br>·本质：<br>  是一个继承了类或者实现了接口的子类匿名对象</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">abstract class Person &#123;</span><br><span class="line">	public abstract void show();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class PersonDemo &#123;</span><br><span class="line">	public void method(Person p) &#123;</span><br><span class="line">		s.show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class PersonTest &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		//如何调用PersonDemo中的method方法呢?</span><br><span class="line">		PersonDemo pd = new PersonDemo ();</span><br><span class="line">		pd.method(new Person() &#123;</span><br><span class="line">			public void show() &#123;</span><br><span class="line">				System.out.println(“show”);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="面试题：-2"><a href="#面试题：-2" class="headerlink" title="面试题："></a>面试题：</h4><p>按照要求，补齐代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">	interface Inter &#123; void show(); &#125;</span><br><span class="line">	class Outer &#123; //补齐代码 &#125;</span><br><span class="line">	class OuterDemo &#123;</span><br><span class="line">	    public static void main(String[] args) &#123;</span><br><span class="line">		      Outer.method().show();</span><br><span class="line">		  &#125;</span><br><span class="line">	&#125;</span><br><span class="line">要求在控制台输出”HelloWorld”</span><br><span class="line">答案：</span><br><span class="line">class Outer &#123;</span><br><span class="line">	//补齐代码</span><br><span class="line">	public static Inter method() &#123;</span><br><span class="line">		return new Inter() &#123;</span><br><span class="line">			public void show() &#123;</span><br><span class="line">				System.out.println(&quot;HelloWorld&quot;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/09/10/面向对象/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2019/09/10/组合模式/">
                            组合模式
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-09-10T14:35:25+08:00">
	
		    9月 10, 2019
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/40.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/40.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/41.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/41.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/42.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/42.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<div class="figure center" style="width:100%;"><a class="fancybox" href="/assets/设计模式/43.jpg" title="" data-caption="" data-fancybox="travel"><img class="fig-img" src="/assets/设计模式/43.jpg" style="width:100%;height:100%;" alt=""></a></div><div style="clear:both;"></div>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">//抽象构建</span><br><span class="line">public interface AbstractFile &#123;</span><br><span class="line">	void killVirus();  //杀毒</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class ImageFile implements AbstractFile &#123;</span><br><span class="line">	private String name;</span><br><span class="line"></span><br><span class="line">	public ImageFile(String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void killVirus() &#123;</span><br><span class="line">		System.out.println(&quot;---图像文件：&quot;+name+&quot;,进行查杀！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">class TextFile implements AbstractFile &#123;</span><br><span class="line">	private String name;</span><br><span class="line"></span><br><span class="line">	public TextFile(String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void killVirus() &#123;</span><br><span class="line">		System.out.println(&quot;---文本文件：&quot;+name+&quot;,进行查杀！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">class VideoFile implements AbstractFile &#123;</span><br><span class="line">	private String name;</span><br><span class="line"></span><br><span class="line">	public VideoFile(String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void killVirus() &#123;</span><br><span class="line">		System.out.println(&quot;---视频文件：&quot;+name+&quot;,进行查杀！&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Folder implements AbstractFile &#123;</span><br><span class="line">	private String name;</span><br><span class="line">	//定义容器，用来存放本容器构建下的子节点</span><br><span class="line">	private List&lt;AbstractFile&gt; list = new ArrayList&lt;AbstractFile&gt;();</span><br><span class="line"></span><br><span class="line">	public Folder(String name) &#123;</span><br><span class="line">		super();</span><br><span class="line">		this.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void add(AbstractFile file)&#123;</span><br><span class="line">		list.add(file);</span><br><span class="line">	&#125;</span><br><span class="line">	public void remove(AbstractFile file)&#123;</span><br><span class="line">		list.remove(file);</span><br><span class="line">	&#125;</span><br><span class="line">	public AbstractFile getChild(int index)&#123;</span><br><span class="line">		return list.get(index);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public void killVirus() &#123;</span><br><span class="line">		System.out.println(&quot;---文件夹：&quot;+name+&quot;,进行查杀&quot;);</span><br><span class="line"></span><br><span class="line">		for (AbstractFile file : list) &#123;</span><br><span class="line">			file.killVirus();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">public class Client &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		AbstractFile f2,f3,f4,f5;</span><br><span class="line">		Folder f1 = new Folder(&quot;我的收藏&quot;);</span><br><span class="line"></span><br><span class="line">		f2 = new ImageFile(&quot;老高的大头像.jpg&quot;);</span><br><span class="line">		f3 = new TextFile(&quot;Hello.txt&quot;);</span><br><span class="line">		f1.add(f2);</span><br><span class="line">		f1.add(f3);</span><br><span class="line"></span><br><span class="line">		Folder f11 = new Folder(&quot;电影&quot;);</span><br><span class="line">		f4 = new VideoFile(&quot;笑傲江湖.avi&quot;);</span><br><span class="line">		f5 = new VideoFile(&quot;神雕侠侣.avi&quot;);</span><br><span class="line">		f11.add(f4);</span><br><span class="line">		f11.add(f5);</span><br><span class="line">		f1.add(f11);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//		f2.killVirus();</span><br><span class="line"></span><br><span class="line">		f1.killVirus();</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2019/09/10/组合模式/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="/archives/">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>上一页</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/archives/page/3/">
              <span>下一页</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">第 2 页 共 7 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Brotherc. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/head.jpg" alt="作者的图片">
        
            <h4 id="about-card-name">Brotherc</h4>
        
            <div id="about-card-bio"><p>java development</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>java</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br>
                zhuhai
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END-->



    </body>
</html>
