<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>docker-基础 | Brotherc 博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/logo.png">
    <img-lazy></img-lazy>
    <meta name="description" content="博客">
    
    <link rel="preload" href="/assets/css/0.styles.e853742c.css" as="style"><link rel="preload" href="/assets/js/app.a5e5b206.js" as="script"><link rel="preload" href="/assets/js/14.d722560c.js" as="script"><link rel="preload" href="/assets/js/1.cd2eb458.js" as="script"><link rel="preload" href="/assets/js/9.9ab9db62.js" as="script"><link rel="prefetch" href="/assets/js/10.797f5d73.js"><link rel="prefetch" href="/assets/js/100.69a7393d.js"><link rel="prefetch" href="/assets/js/101.cf08d262.js"><link rel="prefetch" href="/assets/js/102.2583e2d5.js"><link rel="prefetch" href="/assets/js/103.c42e7517.js"><link rel="prefetch" href="/assets/js/104.eb6e0f1c.js"><link rel="prefetch" href="/assets/js/105.ebf7cb4c.js"><link rel="prefetch" href="/assets/js/106.88d8a7f3.js"><link rel="prefetch" href="/assets/js/107.be87f2f2.js"><link rel="prefetch" href="/assets/js/108.dfd9db79.js"><link rel="prefetch" href="/assets/js/109.75281be7.js"><link rel="prefetch" href="/assets/js/11.1b2d3e00.js"><link rel="prefetch" href="/assets/js/12.84a6ca46.js"><link rel="prefetch" href="/assets/js/13.0f146085.js"><link rel="prefetch" href="/assets/js/15.acdbe1c1.js"><link rel="prefetch" href="/assets/js/16.780c6794.js"><link rel="prefetch" href="/assets/js/17.ccd79f94.js"><link rel="prefetch" href="/assets/js/18.1b5fa6d3.js"><link rel="prefetch" href="/assets/js/19.ae7b4018.js"><link rel="prefetch" href="/assets/js/20.d6a65c55.js"><link rel="prefetch" href="/assets/js/21.be1cc0b1.js"><link rel="prefetch" href="/assets/js/22.735de375.js"><link rel="prefetch" href="/assets/js/23.65a4e3b3.js"><link rel="prefetch" href="/assets/js/24.ea567bc1.js"><link rel="prefetch" href="/assets/js/25.cae952a7.js"><link rel="prefetch" href="/assets/js/26.79d18452.js"><link rel="prefetch" href="/assets/js/27.baea21c1.js"><link rel="prefetch" href="/assets/js/28.9cb2a9af.js"><link rel="prefetch" href="/assets/js/29.b11409a3.js"><link rel="prefetch" href="/assets/js/3.9cad2383.js"><link rel="prefetch" href="/assets/js/30.8ade1756.js"><link rel="prefetch" href="/assets/js/31.f43daaf9.js"><link rel="prefetch" href="/assets/js/32.f820383d.js"><link rel="prefetch" href="/assets/js/33.9ab9f186.js"><link rel="prefetch" href="/assets/js/34.5a420e05.js"><link rel="prefetch" href="/assets/js/35.d444f421.js"><link rel="prefetch" href="/assets/js/36.715e3f3a.js"><link rel="prefetch" href="/assets/js/37.7007e75c.js"><link rel="prefetch" href="/assets/js/38.a03305d4.js"><link rel="prefetch" href="/assets/js/39.dd9f6d5d.js"><link rel="prefetch" href="/assets/js/4.4d5239fa.js"><link rel="prefetch" href="/assets/js/40.f05370d4.js"><link rel="prefetch" href="/assets/js/41.d57302ee.js"><link rel="prefetch" href="/assets/js/42.3060ce7c.js"><link rel="prefetch" href="/assets/js/43.dd7b5f97.js"><link rel="prefetch" href="/assets/js/44.be562d91.js"><link rel="prefetch" href="/assets/js/45.fa3a0db6.js"><link rel="prefetch" href="/assets/js/46.0c336f2a.js"><link rel="prefetch" href="/assets/js/47.c0cb8eee.js"><link rel="prefetch" href="/assets/js/48.2ef62c79.js"><link rel="prefetch" href="/assets/js/49.e6eda037.js"><link rel="prefetch" href="/assets/js/5.38257ade.js"><link rel="prefetch" href="/assets/js/50.193bbdc3.js"><link rel="prefetch" href="/assets/js/51.4f099d4e.js"><link rel="prefetch" href="/assets/js/52.82b98cc1.js"><link rel="prefetch" href="/assets/js/53.e4a6bedb.js"><link rel="prefetch" href="/assets/js/54.492ffd74.js"><link rel="prefetch" href="/assets/js/55.77551058.js"><link rel="prefetch" href="/assets/js/56.7b59eda4.js"><link rel="prefetch" href="/assets/js/57.d6c8d397.js"><link rel="prefetch" href="/assets/js/58.326a1af2.js"><link rel="prefetch" href="/assets/js/59.76b75065.js"><link rel="prefetch" href="/assets/js/6.59d729c8.js"><link rel="prefetch" href="/assets/js/60.dd8546d6.js"><link rel="prefetch" href="/assets/js/61.6ee4bc83.js"><link rel="prefetch" href="/assets/js/62.d1c2f03f.js"><link rel="prefetch" href="/assets/js/63.f2820618.js"><link rel="prefetch" href="/assets/js/64.053262ad.js"><link rel="prefetch" href="/assets/js/65.85a892f0.js"><link rel="prefetch" href="/assets/js/66.36ea66ce.js"><link rel="prefetch" href="/assets/js/67.13242997.js"><link rel="prefetch" href="/assets/js/68.92a8b106.js"><link rel="prefetch" href="/assets/js/69.40b7a58f.js"><link rel="prefetch" href="/assets/js/7.9fdedd18.js"><link rel="prefetch" href="/assets/js/70.d02cb816.js"><link rel="prefetch" href="/assets/js/71.8411ec5e.js"><link rel="prefetch" href="/assets/js/72.0cfd2600.js"><link rel="prefetch" href="/assets/js/73.590e2ac4.js"><link rel="prefetch" href="/assets/js/74.56d4002f.js"><link rel="prefetch" href="/assets/js/75.db0ac375.js"><link rel="prefetch" href="/assets/js/76.6f44421e.js"><link rel="prefetch" href="/assets/js/77.d3a536f4.js"><link rel="prefetch" href="/assets/js/78.f181ee83.js"><link rel="prefetch" href="/assets/js/79.9f93981e.js"><link rel="prefetch" href="/assets/js/8.74a4e7cb.js"><link rel="prefetch" href="/assets/js/80.c54d1a78.js"><link rel="prefetch" href="/assets/js/81.6955a137.js"><link rel="prefetch" href="/assets/js/82.a5655f9d.js"><link rel="prefetch" href="/assets/js/83.98c8c92d.js"><link rel="prefetch" href="/assets/js/84.e6ba863c.js"><link rel="prefetch" href="/assets/js/85.ffa2c1c9.js"><link rel="prefetch" href="/assets/js/86.86330c08.js"><link rel="prefetch" href="/assets/js/87.04f820af.js"><link rel="prefetch" href="/assets/js/88.b6649482.js"><link rel="prefetch" href="/assets/js/89.ba53ab27.js"><link rel="prefetch" href="/assets/js/90.fb9e23ec.js"><link rel="prefetch" href="/assets/js/91.a3a4d571.js"><link rel="prefetch" href="/assets/js/92.a994e285.js"><link rel="prefetch" href="/assets/js/93.4fde915b.js"><link rel="prefetch" href="/assets/js/94.81815913.js"><link rel="prefetch" href="/assets/js/95.b47b89c9.js"><link rel="prefetch" href="/assets/js/96.faa34529.js"><link rel="prefetch" href="/assets/js/97.81946746.js"><link rel="prefetch" href="/assets/js/98.8f205812.js"><link rel="prefetch" href="/assets/js/99.f489f858.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e853742c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>Brotherc 博客</h3> <p class="description" data-v-59e6cb88>博客</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Brotherc 博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      问题&amp;生产故障
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/grihv06a0bccmt8w?singleDoc# 《RabbitMQ消息顺序不一致问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  RabbitMQ顺序性问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/gdufqukgslri2kxq?singleDoc# 《SpringBoot&amp;Cloud升级导致Stream消息消费问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  SpringBoot&amp;Cloud升级导致Stream消息消费问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/ydl9sihwcrpl6m7g?singleDoc# 《JPA引发的内存泄漏问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JPA引发的内存泄漏问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      扩展
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/xrhrtb8azs9pb2s3?singleDoc# 《WebFlux》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  WebFlux
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      工作实践
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ge0ykg/qysxd954rwuyffr4?singleDoc# 《用户中心》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  用户中心
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ge0ykg/kk5uz64o2epi1mkd?singleDoc# 《网关》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  网关
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      知识总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.zhixi.com/view/683f4602" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JVM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhixi.com/view/71e7473d" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  并发编程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      源码
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/zulc92xxxozlnmat?singleDoc# 《ThreadPoolExecutor源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ThreadPoolExecutor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/qptxl6hs0l6x1ghu?singleDoc# 《HashMap源码分析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  HashMap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/qgf3vnnbn48tbqg8?singleDoc# 《ConcurrentHashMap源码分析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ConcurrentHashMap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/gm29019sxpczru30?singleDoc# 《uid-generator源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  uid-generator
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/rgco8qn9vwk0fkau?singleDoc# 《Redis源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Redis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/nlp9ao45cy8c17rw?singleDoc# 《Kafka源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Kafka
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/eon0t76ccalxra83?singleDoc# 《SpringCloudGateway源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  SpringCloudGateway
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/tocaf5vsklvhs7xe?singleDoc# 《源码优秀设计思想》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  源码优秀设计思想
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="undefined"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      我的
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/brotherc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>97</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>50</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      问题&amp;生产故障
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/grihv06a0bccmt8w?singleDoc# 《RabbitMQ消息顺序不一致问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  RabbitMQ顺序性问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/gdufqukgslri2kxq?singleDoc# 《SpringBoot&amp;Cloud升级导致Stream消息消费问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  SpringBoot&amp;Cloud升级导致Stream消息消费问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/ydl9sihwcrpl6m7g?singleDoc# 《JPA引发的内存泄漏问题》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JPA引发的内存泄漏问题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      扩展
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/xrhrtb8azs9pb2s3?singleDoc# 《WebFlux》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  WebFlux
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      工作实践
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ge0ykg/qysxd954rwuyffr4?singleDoc# 《用户中心》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  用户中心
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ge0ykg/kk5uz64o2epi1mkd?singleDoc# 《网关》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  网关
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      知识总结
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.zhixi.com/view/683f4602" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  JVM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhixi.com/view/71e7473d" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  并发编程
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      源码
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/zulc92xxxozlnmat?singleDoc# 《ThreadPoolExecutor源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ThreadPoolExecutor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/qptxl6hs0l6x1ghu?singleDoc# 《HashMap源码分析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  HashMap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/qgf3vnnbn48tbqg8?singleDoc# 《ConcurrentHashMap源码分析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  ConcurrentHashMap
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/ny45pn/gm29019sxpczru30?singleDoc# 《uid-generator源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  uid-generator
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/rgco8qn9vwk0fkau?singleDoc# 《Redis源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Redis
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/nlp9ao45cy8c17rw?singleDoc# 《Kafka源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Kafka
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/eon0t76ccalxra83?singleDoc# 《SpringCloudGateway源码解析》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  SpringCloudGateway
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.yuque.com/liuchunsheng-eihay/pwhmbd/tocaf5vsklvhs7xe?singleDoc# 《源码优秀设计思想》" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  源码优秀设计思想
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="undefined"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      我的
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/brotherc" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>欢迎学习</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/front/vue-googel_map" class="sidebar-heading clickable"><span>前端</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/backend/Java-bit-operation" class="sidebar-heading clickable"><span>后端</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/database/Oracle" class="sidebar-heading clickable"><span>数据库</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/encryption&amp;decryption/JAVA-encryption&amp;decryption" class="sidebar-heading clickable"><span>加解密</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/log/logback" class="sidebar-heading clickable"><span>日志</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/spring/spring-Common-operations" class="sidebar-heading clickable"><span>spring家族</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/spring/SpringSecurity-start" class="sidebar-heading clickable"><span>认证授权</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/microservice/resttemplate" class="sidebar-heading clickable"><span>微服务</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/latency_fault_tolerance/hystrix1" class="sidebar-heading clickable"><span>限流熔断</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/traceroute/skywalking" class="sidebar-heading clickable"><span>链路追踪</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/distributed_id/distributed-id" class="sidebar-heading clickable"><span>分布式ID</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/distributed_transaction/distributed_transaction1" class="sidebar-heading clickable"><span>分布式事务</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/distributed_lock/distributed_lock" class="sidebar-heading clickable"><span>分布式锁</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/taskschedule/xxl-job" class="sidebar-heading clickable"><span>分布式任务调度</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/monitor/prometheus" class="sidebar-heading clickable"><span>监控</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/container/docker" class="sidebar-heading clickable open active"><span>容器</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/document/container/docker.html" aria-current="page" class="active sidebar-link">Docker-基础</a></li><li><a href="/blog/document/container/docker-Oracle-12c.html" class="sidebar-link">Docker-安装Oracle12</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/business/At-the-sametime-allow-only-one-client-front-end-interface-to-operate" class="sidebar-heading clickable"><span>工作实践</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/prod/cpu_hight_issue" class="sidebar-heading clickable"><span>生产环境问题</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/editor/idea/idea-setting" class="sidebar-heading clickable"><span>编辑器</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>AI</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/blog/document/other/website" class="sidebar-heading clickable"><span>其它</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>docker-基础</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">docker-基础</h1> <div data-v-8a445198><!----> <!----> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>docker</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="docker导学"><a href="#docker导学" class="header-anchor">#</a> Docker导学</h2> <p><strong>到底什么是Docker?</strong></p> <p><img src="/assets/img/1.49248b87.jpg" alt=""></p> <p><strong>Docker能干什么?</strong></p> <ul><li>简化配置</li> <li>整合服务器</li> <li>代码流水线管理</li> <li>调试能力</li> <li>提高开发效率</li> <li>多租户</li> <li>隔离应用</li> <li>快速部署</li></ul> <p><strong>容器时代的&quot;双城记&quot;</strong></p> <ul><li>Docker</li> <li>Kubernetes</li></ul> <p><strong>大海航行靠舵手-Kubernetes</strong></p> <p><img src="/assets/img/4.b7d10d50.jpg" alt=""></p> <p><strong>DevOps = 文化 + 过程 + 工具</strong></p> <p><img src="/assets/img/5.40df902f.jpg" alt=""> <img src="/assets/img/6.02aa8d7e.jpg" alt=""></p> <h2 id="容器技术概述"><a href="#容器技术概述" class="header-anchor">#</a> 容器技术概述</h2> <p><strong>Long Long Time Ago</strong></p> <p><img src="/assets/img/7.43cb20b4.jpg" alt=""></p> <p><strong>虚拟化技术出现以后</strong></p> <p><img src="/assets/img/8.580f87a6.jpg" alt=""></p> <p><strong>虚拟化的优点</strong></p> <ul><li>资源池-一个物理机的资源分配到了不同的虚拟机里</li> <li>很容易扩展-加物理机or加虚拟机</li> <li>很容易云化-亚马逊AWS，阿里云等</li></ul> <p><strong>虚拟化的局限性</strong></p> <ul><li>每一个虚拟机都是一个完整的操作系统，要给其分配资源，当虚拟机数量增多时，操作系统本身消耗的资源势必增多</li></ul> <p><strong>开发和运维面临的挑战</strong><img src="/assets/img/11.96aedaf9.jpg" alt=""> <strong>容器解决了什么问题?</strong><img src="/assets/img/12.87899cc2.jpg" alt=""></p> <ul><li><p>解决了开发和运维之间的矛盾</p></li> <li><p>在开发和运维之间搭建了一个桥梁，是实现devops的最佳解决方案</p></li></ul> <p><strong>什么是容器？</strong></p> <p><img src="/assets/img/14.3dac5a5d.jpg" alt=""> <strong>容器和虚拟机的区别</strong></p> <p><img src="/assets/img/15.78544a0f.jpg" alt=""> <strong>虚拟机 + 容器</strong></p> <p><img src="/assets/img/16.fcdfd79f.jpg" alt=""> <strong>Docker - 容器技术的一种实现</strong></p> <p><img src="/assets/img/17.0b9d15b6.jpg" alt=""></p> <h2 id="docker架构和底层技术简介"><a href="#docker架构和底层技术简介" class="header-anchor">#</a> Docker架构和底层技术简介</h2> <p><strong>Docker Platform</strong></p> <ul><li>Docker提供了一个开发，打包，运行app的平台</li> <li>把app和底层infrastructure隔离开来</li></ul> <p><img src="/assets/img/18.3e457d47.jpg" alt=""></p> <p><strong>Docker Engine</strong></p> <p><img src="/assets/img/19.5f48da30.jpg" alt=""></p> <p><strong>Docker Architecture</strong></p> <p><img src="/assets/img/20.607d802e.jpg" alt=""></p> <p><strong>底层技术</strong></p> <ul><li>Namespaces：做隔离pid，net，ipc，mnt，uts</li> <li>Control groups：做资源限制</li> <li>Union file systems：Container和image的分层</li></ul> <h2 id="在centos上安装docker"><a href="#在centos上安装docker" class="header-anchor">#</a> 在centos上安装docker</h2> <p><strong>安装</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
docker-common <span class="token punctuation">\</span>
docker-selinux <span class="token punctuation">\</span>
docker-engine

<span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils <span class="token punctuation">\</span>
device-mapper-persistent-data <span class="token punctuation">\</span>
lvm2

<span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
--add-repo <span class="token punctuation">\</span>
https://download.docker.com/linux/centos/docker-ce.repo

<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>启动</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
<span class="token function">sudo</span> <span class="token function">docker</span> version
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>helloworld</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">docker</span> run hello-world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="docker-image概述"><a href="#docker-image概述" class="header-anchor">#</a> Docker Image概述</h2> <p><strong>什么是Image</strong></p> <p><img src="/assets/img/22.674a2953.jpg" alt=""></p> <p><strong>Image的获取(1)</strong></p> <p><img src="/assets/img/23.022c1758.jpg" alt=""></p> <p><strong>Image的获取(2)</strong></p> <p><img src="/assets/img/24.434ed35d.jpg" alt=""></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>// 查看进程
<span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">docker</span>
// 查看镜像
<span class="token function">sudo</span> <span class="token function">docker</span> image <span class="token function">ls</span>
// 拉取镜像
<span class="token function">sudo</span> <span class="token function">docker</span> pull ubuntu:14.04
// 运行镜像
<span class="token function">docker</span> run hello-world
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> centos
// 删除镜像
<span class="token function">docker</span> image <span class="token function">rm</span> 67759a80360c<span class="token punctuation">(</span>镜像ID<span class="token punctuation">)</span>
<span class="token function">docker</span> image rmi f2a91732366c<span class="token punctuation">(</span>镜像ID<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="diy一个base-image"><a href="#diy一个base-image" class="header-anchor">#</a> DIY一个Base Image</h2> <p><strong>自己实现helloworld</strong></p> <div class="language-c line-numbers-mode"><pre class="language-c"><code>mkdir hello<span class="token operator">-</span>world
cd hello<span class="token operator">-</span>world<span class="token operator">/</span>
vim hello<span class="token punctuation">.</span>c

<span class="token comment">// 内容</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;hello docker\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

gcc <span class="token operator">-</span><span class="token keyword">static</span> hello<span class="token punctuation">.</span>c <span class="token operator">-</span>o hello
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code>vim Dockerfile

// 内容
<span class="token instruction"><span class="token keyword">FROM</span> scratch</span>
<span class="token instruction"><span class="token keyword">ADD</span> hello /</span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;/hello&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> brotherc/hello-world <span class="token builtin class-name">.</span>
<span class="token function">docker</span> run brotherc/hello-world
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="初始container"><a href="#初始container" class="header-anchor">#</a> 初始container</h2> <p><strong>什么是Container</strong></p> <p><img src="/assets/img/25.6862375c.jpg" alt=""></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> container <span class="token function">ls</span>
<span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-a</span>
<span class="token function">docker</span> container <span class="token function">ps</span> <span class="token parameter variable">-a</span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-f</span> <span class="token string">&quot;status-exited&quot;</span> <span class="token parameter variable">-q</span><span class="token variable">)</span></span>
<span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">docker</span> container <span class="token function">ls</span> <span class="token parameter variable">-aq</span><span class="token variable">)</span></span>
<span class="token function">docker</span> container <span class="token function">rm</span> 846b5efe98d4<span class="token punctuation">(</span>容器ID<span class="token punctuation">)</span>
<span class="token function">docker</span> container <span class="token function">rm</span> <span class="token number">84</span><span class="token punctuation">(</span>容器ID前缀<span class="token punctuation">)</span>
// 将已有容器提交成新的镜像
Usage: <span class="token function">docker</span> commit <span class="token punctuation">[</span>OPTIONS<span class="token punctuation">]</span> CONTAINER <span class="token punctuation">[</span>REPOSITORY<span class="token punctuation">[</span>:TAG<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>flags<span class="token punctuation">]</span>
<span class="token function">docker</span> commit xenodochial_pare<span class="token punctuation">(</span>容器名称<span class="token punctuation">)</span> brotherc/centos-vim
<span class="token function">docker</span> stop 容器id或名称
<span class="token function">docker</span> start 容器id或名称
<span class="token function">docker</span> inspect 容器id或名称
<span class="token function">docker</span> logs 容器id或名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="构建自己的docker镜像"><a href="#构建自己的docker镜像" class="header-anchor">#</a> 构建自己的Docker镜像</h2> <p><strong>基于已经存在的container创建一个image</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>// 运行一个已安装好vim的centos容器
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> centos
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> <span class="token function">vim</span>
<span class="token builtin class-name">exit</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>// 容器名：xenodochial_pare
<span class="token function">docker</span> commit xenodochial_pare brotherc/centos-vim
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>基于Dockerfile创建一个image</strong></p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code>mkdir docker-centos-vim
cd docker-centos-vim/
vim Dockerfile

<span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">RUN</span> yum install -y vim</span>

docker build -t brotherc/centos-vim-new .
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="dockerfile语法梳理"><a href="#dockerfile语法梳理" class="header-anchor">#</a> Dockerfile语法梳理</h2> <p><strong>FROM</strong>
尽量使用官方的image作为base image!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> scratch #制作base image</span>
<span class="token instruction"><span class="token keyword">FROM</span> centos  #使用base image</span>
<span class="token instruction"><span class="token keyword">FROM</span> ubuntu:14.04</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>LABEL</strong>
Metadata不可少!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">LABEL</span> maintainer=<span class="token string">&quot;brotherc@136.com&quot;</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> version=<span class="token string">&quot;1.0&quot;</span></span>
<span class="token instruction"><span class="token keyword">LABEL</span> description=<span class="token string">&quot;This is description&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>RUN</strong>
为了美观，复杂的RUN请用反斜杠换行!避免无用分层，合并多条命令成一行!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> yum update &amp;&amp; yum install -y vim \ #反斜线换行</span>
    python-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> apt-get update &amp;&amp; apt-get install -y perl <span class="token operator">\</span>
    pwgen --no-install-recommends &amp;&amp; rm -rf <span class="token operator">\</span>
    /var/lib/apt/lists/* #注意清理cache</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> /bin/bash -c<span class="token string">'source $HOME/.bashrc;echo $HOME'</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>WORKDIR</strong>
设定当前工作目录，类似cd
用WORKDIR，不要用RUN cd!尽量使用绝对目录!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /root</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /test #如果没有会自动创建test目录</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> demo</span>
<span class="token instruction"><span class="token keyword">RUN</span> pwd       #输出结果应该是 /test/demo</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>ADD and COPY</strong>
将本地文件添加到image里面
大部分情况，COPY优于ADD!ADD除了COPY还有额外功能(解压)!添加远程文件/目录
请使用curl或者wget!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">ADD</span> hello /</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">ADD</span> test.tar.gz / #添加到根目录并解压</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /root</span>
<span class="token instruction"><span class="token keyword">ADD</span> hello test/ # /root/test/hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /root</span>
<span class="token instruction"><span class="token keyword">COPY</span> hello test/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>ENV</strong>
尽量使用ENV增加可维护性!</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">ENV</span> MYSQL_VERSION 5.6 #设置常量</span>
<span class="token instruction"><span class="token keyword">RUN</span> apt-get install -y mysql-server=<span class="token string">&quot;${MYSQL_VERSION}&quot;</span> <span class="token operator">\</span>
    &amp;&amp; rm -rf /var/lib/apt/lists/* #引用常量</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>RUN vs CMD vs ENTRYPOINT</strong>
RUN:执行命令并创建新的image layer
CMD:设置容器启动后默认执行的命令和参数
ENTRYPOINT:设置容器启动时运行的命令
<strong>Shell格式</strong></p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> apt-get install -y vim</span>
<span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token string">&quot;hello docker&quot;</span></span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> echo <span class="token string">&quot;hello docker&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">ENV</span> name Docker</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> echo <span class="token string">&quot;hello $name&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>Exec格式</strong></p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">RUN</span> [<span class="token string">&quot;apt-get&quot;</span>, <span class="token string">&quot;install&quot;</span>, <span class="token string">&quot;-y&quot;</span>, <span class="token string">&quot;vim&quot;</span>]</span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;/bin/echo&quot;</span>, <span class="token string">&quot;hello docker&quot;</span>]</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/echo&quot;</span>, <span class="token string">&quot;hello docker&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">ENV</span> name Docker</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/echo&quot;</span>, <span class="token string">&quot;hello docker&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="dockerfile最佳实践"><a href="#dockerfile最佳实践" class="header-anchor">#</a> Dockerfile最佳实践</h2> <p>Dockerfile:</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">ENV</span> name Docker</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> echo <span class="token string">&quot;hello $name&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code>docker build -t brotherc/centos-entrypoint-shell .
docker run brotherc/centos-entrypoint-shell
hello Docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Dockerfile:</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">ENV</span> name Docker</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/bash&quot;</span>, <span class="token string">&quot;-c&quot;</span>, <span class="token string">&quot;echo hello $name&quot;</span>]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code>docker build -t brotherc/centos-entrypoint-exec .
docker run brotherc/centos-entrypoint-exec
hello Docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>CMD</strong>
容器启动时默认执行的命令
如果docker run指定了其它命令，CMD命令被忽略
如果定义了多个CMD，只有最后一个会执行
Dockerfile:</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> centos</span>
<span class="token instruction"><span class="token keyword">ENV</span> name Docker</span>
<span class="token instruction"><span class="token keyword">CMD</span> echo <span class="token string">&quot;hello $name&quot;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> brotherc/centos-cmd-shell <span class="token builtin class-name">.</span>
<span class="token function">docker</span> run brotherc/centos-cmd-shell
hello Docker

<span class="token function">docker</span> run <span class="token parameter variable">-it</span> brotherc/centos-cmd-shell /bin/bash
无输出
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>ENTRYPOINT</strong>
让容器以应用程序或者服务的形式运行
不会被忽略，一定会执行</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run brotherc/centos-entrypoint-shell
hello Docker

<span class="token function">docker</span> run <span class="token parameter variable">-it</span> brotherc/centos-entrypoint-shell /bin/bash
hello Docker

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="镜像的发布"><a href="#镜像的发布" class="header-anchor">#</a> 镜像的发布</h2> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> login
<span class="token function">docker</span> push DockerId/镜像名称
<span class="token function">docker</span> pull DockerId/镜像名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>分享产生image</strong>
把我们的账户link到github或bitbucket，在github上面创建一个代码仓库，把我们的dockerfile push上去，这样就做了一个关联。
只要我们这个仓库里面有dockerfile，就会自动去克隆获取到这个dockerfile然后dockerhub后台服务器会帮我们去build。
这样我们既提供了dockerfile，docker image又是dockerhub后台服务器帮我们build的，这个安全性会有很大的提升。
<img src="/assets/img/78.80379abd.jpg" alt=""></p> <p><strong>私有的registry</strong></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 <span class="token parameter variable">--restart</span> always <span class="token parameter variable">--name</span> registry
// 访问ip:5000
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>/etc/docker/daemon.json:</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span><span class="token property">&quot;insecure-registries&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;ip:5000&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>/lib/systemd/system/docker.service:
<img src="/assets/img/79.9d702e81.jpg" alt=""></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>telnet ip:5000

<span class="token function">docker</span> push ip:5000/镜像名称
<span class="token function">docker</span> pull ip:5000/镜像名称
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="docker-network"><a href="#docker-network" class="header-anchor">#</a> Docker Network</h2> <p><strong>基础网络概念</strong> <img src="/assets/img/32.aea8f3e7.jpg" alt=""></p> <p><strong>基于数据包的通信方式</strong></p> <p><img src="/assets/img/33.ad01b7ab.jpg" alt=""></p> <p><strong>网络的分层</strong></p> <p><img src="/assets/img/34.bf369dce.jpg" alt=""></p> <p><strong>路由的概念</strong></p> <p><img src="/assets/img/35.218fb849.jpg" alt=""></p> <p><strong>IP地址和路由</strong></p> <p><img src="/assets/img/36.eb373204.jpg" alt=""></p> <p><strong>公有IP和私有IP</strong></p> <ul><li><p>Public IP：互联网的唯一标识，可以访问internet</p></li> <li><p>Private IP：不可在互联网上使用，仅供机构内部使用</p> <p>A类 10.0.0.0--10.255.255.255 （10.0.0.0/8）</p> <p>B类 172.16.0.0--172.31.255.255 （172.16.0.0/12）</p> <p>C类 192.168.0.0--192.168.255.255 （192.168.0.0/16）</p></li></ul> <p><strong>网络地址转换NAT</strong> <img src="/assets/img/38.070a8e40.jpg" alt=""></p> <p><strong>Ping和telnet</strong></p> <ul><li>Ping(ICMP)：验证IP的可达性</li></ul> <p><img src="/assets/img/39.8acdd84c.jpg" alt=""></p> <ul><li>telnet：验证服务的可用性</li></ul> <p><img src="/assets/img/40.fedbcec2.jpg" alt=""></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> test1 busybox /bin/sh <span class="token parameter variable">-c</span> <span class="token string">&quot;while true; do sleep 3600; done&quot;</span>
<span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> test1 /bin/sh

<span class="token function">ip</span> a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> test2 busybox /bin/sh <span class="token parameter variable">-c</span> <span class="token string">&quot;while true; do sleep 3600; done&quot;</span>
<span class="token function">sudo</span> <span class="token function">docker</span> <span class="token builtin class-name">exec</span> test2 <span class="token function">ip</span> a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/assets/img/41.0b01a599.jpg" alt=""> <img src="/assets/img/42.8ffed81a.jpg" alt=""> <img src="/assets/img/43.1713a1d3.jpg" alt=""> <img src="/assets/img/44.01fe79b8.jpg" alt=""></p> <p><strong>Linux Network Namespace</strong></p> <p><img src="/assets/img/45.77968b22.jpg" alt=""> <img src="/assets/img/46.c1b924d0.jpg" alt=""> <img src="/assets/img/47.2ac716a4.jpg" alt=""> <img src="/assets/img/48.c6dc8ab8.jpg" alt=""> <img src="/assets/img/49.93ac9a92.jpg" alt=""> <img src="/assets/img/50.69b6c35d.jpg" alt=""> <img src="/assets/img/51.d5a9fbf5.jpg" alt=""> <img src="/assets/img/52.ed75e136.jpg" alt=""> <img src="/assets/img/53.b8f4d690.jpg" alt=""> <img src="/assets/img/54.10e2a2cf.jpg" alt=""> <img src="/assets/img/55.794acda7.jpg" alt=""> <img src="/assets/img/56.59a1de31.jpg" alt=""> <img src="/assets/img/57.e57449ee.jpg" alt=""> <img src="/assets/img/58.071534c8.jpg" alt=""></p> <p><strong>Bridge Network</strong></p> <p><img src="/assets/img/59.1572f9de.jpg" alt=""> <img src="/assets/img/60.824fd8f1.jpg" alt=""> <img src="/assets/img/61.589fef84.jpg" alt=""> <img src="/assets/img/62.f81e347c.jpg" alt=""> <img src="/assets/img/63.db6f0e7d.jpg" alt=""> <img src="/assets/img/64.0300c81b.jpg" alt=""> <img src="/assets/img/65.55d57a2e.jpg" alt=""> <img src="/assets/img/66.29be75b9.jpg" alt=""> <img src="/assets/img/67.5e0250af.jpg" alt=""> <img src="/assets/img/68.6cbe58b9.jpg" alt=""> <img src="/assets/img/69.d4c316ee.jpg" alt=""> <img src="/assets/img/70.e67a56d8.jpg" alt=""> <img src="/assets/img/71.bc756c5a.jpg" alt=""></p> <p><strong>Container Port Map</strong></p> <p><img src="/assets/img/72.df98a338.jpg" alt=""> <img src="/assets/img/73.405f6c64.jpg" alt=""> <img src="/assets/img/74.46679b0c.jpg" alt=""> <img src="/assets/img/75.921a8ed7.jpg" alt=""> <img src="/assets/img/76.285e9953.jpg" alt=""> <img src="/assets/img/77.f923ab69.jpg" alt=""></p> <h2 id="docker的持久化存储和数据共享"><a href="#docker的持久化存储和数据共享" class="header-anchor">#</a> Docker的持久化存储和数据共享</h2> <p><strong>Container Layer</strong></p> <p><img src="/assets/img/26.dbff468a.jpg" alt=""></p> <p><strong>Data Volume</strong></p> <p><img src="/assets/img/27.e88c1b13.jpg" alt=""></p> <p><strong>Docker持久化数据的方案</strong></p> <ul><li>基于本地文件系统的Volume。可以在执行Docker create或Docker run时，通过-v参数将主机的目录作为容器的数据卷。这部分功能便是基于本地文件系统的volume管理。</li> <li>基于plugin的Volume，支持第三方的存储方案，比如NAS，aws</li></ul> <p><strong>Volume的类型</strong></p> <ul><li>受管理的data Volume，由docker后台自动创建。</li> <li>绑定挂载的Volume，具体挂载位置可以由用户指定。</li></ul> <p><strong>数据持久化：Data Volume</strong> <img src="/assets/img/30.e984a828.jpg" alt=""></p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>//mysql镜像会默认将数据挂载到本地
<span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> mysql1 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="token operator">=</span>true mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">docker</span> volume <span class="token function">ls</span>

DRIVER        VOLUME NAME
<span class="token builtin class-name">local</span>         e6ee5901156<span class="token punctuation">..</span>.

<span class="token function">sudo</span> <span class="token function">docker</span> volume inspect e6ee5901156<span class="token punctuation">..</span>.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">docker</span> stop mysql1
<span class="token function">sudo</span> <span class="token function">docker</span> <span class="token function">rm</span> mysql1
<span class="token function">sudo</span> <span class="token function">docker</span> volume <span class="token function">ls</span>

DRIVER        VOLUME NAME
<span class="token builtin class-name">local</span>         e6ee5901156<span class="token punctuation">..</span>.

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>//给volume指定名字
<span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> mysql:/var/lib/mysql <span class="token parameter variable">--name</span> mysql1 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="token operator">=</span>true mysql
<span class="token function">sudo</span> <span class="token function">docker</span> volume <span class="token function">ls</span>

DRIVER        VOLUME NAME
<span class="token builtin class-name">local</span>         mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code>//让mysql容器使用已存在的volume
<span class="token function">sudo</span> <span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> mysql1
<span class="token function">sudo</span> <span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> mysql:/var/lib/mysql <span class="token parameter variable">--name</span> mysql2 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="token operator">=</span>true mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>数据持久化：Bind Mouting</strong> <img src="/assets/img/31.fcde40b7.jpg" alt="">
Dockerfile:</p> <div class="language-dockerfile line-numbers-mode"><pre class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> nginx:latest</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /usr/share/nginx/html</span>
<span class="token instruction"><span class="token keyword">COPY</span> index.html index.html</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> build <span class="token parameter variable">-t</span> brotherc/my-nginx <span class="token builtin class-name">.</span>
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">--name</span> web brotherc/my-nginx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> web
<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>:/usr/share/nginx/html <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token parameter variable">--name</span> web brotherc/my-nginx
<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> web /bin/bash
//在容器中
<span class="token builtin class-name">cd</span> /usr/share/nginx/html
<span class="token function">touch</span> test.txt
<span class="token builtin class-name">exit</span>
//在linux中看到刚刚创建的test.txt文件
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/document/monitor/kapacitor.html" class="prev">
          Kapacitor
        </a></span> <span class="next"><a href="/blog/document/container/docker-Oracle-12c.html">
          Docker-安装Oracle12
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#docker导学" class="sidebar-link reco-side-docker导学" data-v-b57cc07c>Docker导学</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#容器技术概述" class="sidebar-link reco-side-容器技术概述" data-v-b57cc07c>容器技术概述</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#docker架构和底层技术简介" class="sidebar-link reco-side-docker架构和底层技术简介" data-v-b57cc07c>Docker架构和底层技术简介</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#在centos上安装docker" class="sidebar-link reco-side-在centos上安装docker" data-v-b57cc07c>在centos上安装docker</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#docker-image概述" class="sidebar-link reco-side-docker-image概述" data-v-b57cc07c>Docker Image概述</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#diy一个base-image" class="sidebar-link reco-side-diy一个base-image" data-v-b57cc07c>DIY一个Base Image</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#初始container" class="sidebar-link reco-side-初始container" data-v-b57cc07c>初始container</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#构建自己的docker镜像" class="sidebar-link reco-side-构建自己的docker镜像" data-v-b57cc07c>构建自己的Docker镜像</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#dockerfile语法梳理" class="sidebar-link reco-side-dockerfile语法梳理" data-v-b57cc07c>Dockerfile语法梳理</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#dockerfile最佳实践" class="sidebar-link reco-side-dockerfile最佳实践" data-v-b57cc07c>Dockerfile最佳实践</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#镜像的发布" class="sidebar-link reco-side-镜像的发布" data-v-b57cc07c>镜像的发布</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#docker-network" class="sidebar-link reco-side-docker-network" data-v-b57cc07c>Docker Network</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/document/container/docker.html#docker的持久化存储和数据共享" class="sidebar-link reco-side-docker的持久化存储和数据共享" data-v-b57cc07c>Docker的持久化存储和数据共享</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.a5e5b206.js" defer></script><script src="/assets/js/14.d722560c.js" defer></script><script src="/assets/js/1.cd2eb458.js" defer></script><script src="/assets/js/9.9ab9db62.js" defer></script>
  </body>
</html>
