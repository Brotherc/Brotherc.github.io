(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{2387:function(s,a,e){"use strict";e.r(a);var l=e(43),t=Object(l.a)({},(function(){var s=this,a=s.$createElement,l=s._self._c||a;return l("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[l("h3",{attrs:{id:"工具使用"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#工具使用"}},[s._v("#")]),s._v(" 工具使用")]),s._v(" "),l("ul",[l("li",[s._v("sqlplus")]),s._v(" "),l("li",[s._v("pl/sql")]),s._v(" "),l("li",[s._v("develop")]),s._v(" "),l("li",[s._v("sqldevelop")]),s._v(" "),l("li",[s._v("toad")]),s._v(" "),l("li",[s._v("......")])]),s._v(" "),l("h3",{attrs:{id:"访问数据库的方式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#访问数据库的方式"}},[s._v("#")]),s._v(" 访问数据库的方式")]),s._v(" "),l("ul",[l("li",[s._v("本机直接通过sock方式访问（IPC）")])]),s._v(" "),l("div",{staticClass:"language- line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("sqlplus / as sysdba\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br")])]),l("ul",[l("li",[s._v("通过TCP建立连接到Oracle服务器&Oracle网络配置")])]),s._v(" "),l("p",[s._v("方式一：")]),s._v(" "),l("div",{staticClass:"language- line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("// ora10g --\x3e必须在 $ORACLE_HOME/network/admin/tnsnames.ora配置出如何访问到远程数据库服务器\ntnsping ora10g\nsqlplus sys/oracle@ora10g as sysdba\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br"),l("span",{staticClass:"line-number"},[s._v("2")]),l("br"),l("span",{staticClass:"line-number"},[s._v("3")]),l("br")])]),l("p",[s._v("方式二：")]),s._v(" "),l("div",{staticClass:"language- line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-text"}},[l("code",[s._v("// 不需要任何配置，但oracle服务器必须在listener.ora定义被远程访问的方式\nsqlplus sys/oracle@ip:1521/ora10g as sysdba\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br"),l("span",{staticClass:"line-number"},[s._v("2")]),l("br")])]),l("h3",{attrs:{id:"数据库模型"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#数据库模型"}},[s._v("#")]),s._v(" 数据库模型")]),s._v(" "),l("p",[s._v("1.专用型\n一个进程一个会话\n2.共享型")]),s._v(" "),l("h3",{attrs:{id:"执行sql流程"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#执行sql流程"}},[s._v("#")]),s._v(" 执行sql流程")]),s._v(" "),l("ul",[l("li",[l("p",[s._v("能执行sql语句的程序或进程就是用户进程")])]),s._v(" "),l("li",[l("p",[s._v("用户进程 执行一个查询语句，比如select * from emp where empno=7839;")])]),s._v(" "),l("li",[l("p",[s._v("用户进程已经跟服务进程建立链接,服务器进程会响应用户进程,一些会话信息就会存储在内存（PGA）中,\n把该用户进程的信息存储到PGA的UGA中。")])]),s._v(" "),l("li",[l("p",[s._v("语句经过PGA处理后传递给实例")])]),s._v(" "),l("li",[l("p",[s._v("实例中的共享池负责处理这条语句")])]),s._v(" "),l("li",[l("p",[s._v("库缓存区去判断语句如何分析--软分析或硬分析(以前是否执行过)")])]),s._v(" "),l("li",[l("p",[s._v("sql语句操作的表在哪，表里面的行放在哪个block里面，所以需要数据字典")])]),s._v(" "),l("li",[l("p",[s._v("根据cbo得到的执行计划准备去执行语句，查询语句中的对象存放在哪个表空间的指定的行放在哪个块里\n面，数据字典缓存区得到这些信息")])]),s._v(" "),l("li",[l("p",[s._v("开始执行")])]),s._v(" "),l("li",[l("p",[s._v("判断在数据缓存区data buffer cache中是否缓存需要的块")])]),s._v(" "),l("li",[l("p",[s._v("如果是，在内存读取数据得到所需行的结果返回给用户，用户看到这行的结果\n如果没有，则服务器进程读取data file文件中对应的block到data buffer cache中，data buffer cache中的undo块用来做镜像，\nundo缓存块会对该块做镜像，然后读该镜像中的数据得到行的结果，用户看到执行的结果，")])]),s._v(" "),l("li",[l("p",[s._v("redo log buffer记录数据库中块的更改，修改前后的块（提交和未提交）都在undo块中做了镜像，意味着可以写入\n磁盘与不可写入磁盘")])]),s._v(" "),l("li",[l("p",[s._v("oracle做这么多就是为了尽可能用内存去操作，关系型数据库最重要的就是内存和磁盘")])]),s._v(" "),l("li",[l("p",[s._v("语句执行性能的高低，从shared pool中的library cache和data dict cache的命中率进行判断")])]),s._v(" "),l("li",[l("p",[s._v("database buffer cache 命中率 关系到逻辑读（内存取数据）或物理读（磁盘取数据）")])]),s._v(" "),l("li",[l("p",[s._v("redo log buffer 记录块的变化")])]),s._v(" "),l("li",[l("p",[s._v("DBWR进程会将已提交的数据写到物理磁盘data file，只有当redo log buffer 将所有块的变更信息记录下来之后才会开始写")])]),s._v(" "),l("li",[l("p",[s._v("内存中的redo log 日志会定时通过LGWR写到磁盘Redo Log file(主要用于恢复)")])]),s._v(" "),l("li",[l("p",[s._v("CKPT保证数据同步，一旦触发，DBWR就开始写数据，接着LGWR也开始写数据（比如手动commit）")])]),s._v(" "),l("li",[l("p",[s._v("rdbms的实现的一套完整的解决方案")])]),s._v(" "),l("li",[l("p",[s._v("一个实例（内存结构和后台进程）和数据库（物理文件和文件的逻辑结构）构成了oracle服务器")])])]),s._v(" "),l("p",[l("img",{attrs:{src:e(374),alt:""}})]),s._v(" "),l("p",[s._v("用户进程产生的日志文件")]),s._v(" "),l("div",{staticClass:"language-sql line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-sql"}},[l("code",[l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("show")]),s._v(" parameter user_\n"),l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("desc")]),s._v(" v$"),l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),s._v(" v$process v$"),l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("sql")]),s._v(" v$sqltext\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br"),l("span",{staticClass:"line-number"},[s._v("2")]),l("br")])]),l("div",{staticClass:"language-sql line-numbers-mode"},[l("pre",{pre:!0,attrs:{class:"language-sql"}},[l("code",[l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" username"),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sid "),l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" v$"),l("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("session")]),l("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),l("div",{staticClass:"line-numbers-wrapper"},[l("span",{staticClass:"line-number"},[s._v("1")]),l("br")])])])}),[],!1,null,null,null);a.default=t.exports},374:function(s,a,e){s.exports=e.p+"assets/img/ocp.120b7a1d.jpg"}}]);